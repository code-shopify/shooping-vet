{% assign button_label = block.settings.button_label %}
{% assign button_icon = block.settings.button_icon %}
{% assign id = section_id %}

{% if button_label != blank %}
	{%- capture styles -%}
		--offset-top-desktop: {{ block.settings.offset_top_desktop }}px; {{-  -}}
		--offset-bottom-desktop: {{ block.settings.offset_bottom_desktop }}px; {{-  -}}
		--offset-top-mobile: {{ block.settings.offset_top_mobile }}px; {{-  -}}
		--offset-bottom-mobile: {{ block.settings.offset_bottom_mobile }}px;
	{%- endcapture -%}

	<div class="product-form__button-link-container" style="{{ styles }}">
		<button class="button-link button-link--with-icon focus-visible-outline js-ask-question-button"
				type="button"
				data-target="product-ask-question-popup-{{- id -}}"
				data-js-toggle="product-ask-question-popup-{{- id -}}"
		>
			{% if button_icon != blank %}
				{%- capture img_focal -%}
					--img-desktop-pos: {{ button_icon.presentation.focal_point }};
				{%- endcapture -%}

				<img class="button-link__icon"
					 src="{{ button_icon | image_url: width: 24, height: 24 }}"
					 srcset="{{ button_icon | image_url: width: 24, height: 24 }} 1x,
							 {{ button_icon | image_url: width: 48, height: 48 }} 1x"
					 style="{{ img_focal }}"
					 alt="{{ button_icon.alt | escape }}"
					 aria-hidden="true"
					 loading="lazy"
				>
			{% endif %}

			<span class="button-link__text">{{- button_label -}}</span>
		</button>
	</div>
{% endif %}


