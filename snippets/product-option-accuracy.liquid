{% comment %}
------------------------------------------------------------------------------
  Snippet: Product Option Accuracy
------------------------------------------------------------------------------
{% endcomment %}

{% assign heading 	   = block.settings.heading %}
{% assign active_state = block.settings.active_state %}
{% assign point_1      = block.settings.point_1 %}
{% assign point_2      = block.settings.point_2 %}
{% assign point_3      = block.settings.point_3 %}
{%- assign show_block  = false -%}

{%- if point_1 != blank and point_2 != blank -%}
	{%- assign show_block  = true -%}
{%- elsif point_1 != blank and point_3 != blank -%}
	{%- assign show_block  = true -%}
{%- elsif point_2 != blank and point_3 != blank -%}
	{%- assign show_block  = true -%}
{%- endif -%}

{%- capture styles -%}
	--active-state: {{ active_state }}; {{- -}}
	--offset-top-desktop: {{ block.settings.offset_top_desktop }}px; {{- -}}
	--offset-bottom-desktop: {{ block.settings.offset_bottom_desktop }}px; {{- -}}
	--offset-top-mobile: {{ block.settings.offset_top_mobile }}px; {{- -}}
	--offset-bottom-mobile: {{ block.settings.offset_bottom_mobile }}px;
{%- endcapture -%}

{% if show_block %}
	<div class="product-option-accuracy" style="{{ styles }}">
		<div class="product-option-accuracy__content">
			<p class="product-option-accuracy__heading">{{- heading -}}</p>

			<div class="product-option-accuracy__range">
				{% for i in (1..6) %}
					<div
						class="product-option-accuracy__range-block {% if i <= active_state %}product-option-accuracy__range-block--active{% endif %}"></div>
				{% endfor %}
			</div>

			<div class="product-option-accuracy__points">
				{%- if point_1 != blank -%}
					<p class="product-option-accuracy__point-name">
						{{- point_1 -}}
					</p>
				{%- endif -%}

				{%- if point_2 != blank -%}
					<p class="product-option-accuracy__point-name">
						{{- point_2 -}}
					</p>
				{%- endif -%}

				{%- if point_3 != blank -%}
					<p class="product-option-accuracy__point-name">
						{{- point_3 -}}
					</p>
				{%- endif -%}
			</div>
		</div>
	</div>
{% endif %}
