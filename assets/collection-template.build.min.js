const f=()=>{const e={section:".js-collection",swiper:".js-collection-list-swiper",swiperNextBtn:".js-collection-list-button-next",swiperPrevBtn:".js-collection-list-button-prev",gridViewButton:".js-grid-view-btn",gridViewButtons:".js-grid-view-buttons",grid:".js-grid-wrapper",getActiveButton:t=>`.js-grid-view-btn[data-grid-cols="${t}"]`,defaultButton:".js-grid-view-btn[data-grid-cols='4']"},r={collectionGridCols:"collection-grid-cols"},l={gridCol:"data-grid-col",gridColButton:"data-grid-cols"},u=window.themeCore.utils.Swiper,i={hiddenCollectionOnLoad:"collection__grid-wrapper-hide-on-load",...window.themeCore.utils.cssClasses};async function w(){const t=await window.themeCore.utils.getExternalUtil("ProductFilters"),s=document.querySelector(e.section),o=document.querySelectorAll(e.gridViewButton),d=document.querySelector(e.swiper);m(d),t(s).init(),o.length>0&&g(o)}function g(t){const s=document.querySelector(e.grid),o=localStorage.getItem(r.collectionGridCols),d=document.querySelector(e.gridViewButtons),p=document.querySelector(e.defaultButton);if(o){const n=document.querySelector(e.getActiveButton(o));s.setAttribute(l.gridCol,o),p.classList.remove(i.active),n.classList.add(i.active)}s.classList.remove(i.hiddenCollectionOnLoad),d.classList.add("animated"),t.forEach(function(n){n.addEventListener("click",function(){const c=n.getAttribute(l.gridColButton);if(n.classList.contains(i.active))return;const v=[...t].find(B=>B.classList.contains(i.active)),C=n;v.classList.remove(i.active),C.classList.add(i.active),s.setAttribute(l.gridCol,c),c==="3"||c==="2"?localStorage.setItem(r.collectionGridCols,c):localStorage.removeItem(r.collectionGridCols)})})}function m(t){t&&new u(t,{slidesPerView:2.7,navigation:{nextEl:e.swiperNextBtn,prevEl:e.swiperPrevBtn},breakpoints:{576:{slidesPerView:4.7},992:{slidesPerView:6,spaceBetween:16},1200:{slidesPerView:8,spaceBetween:16},1500:{slidesPerView:10,spaceBetween:16}}})}return Object.freeze({init:w})},a=()=>{window.themeCore.CollectionTemplate=window.themeCore.CollectionTemplate||f(),window.themeCore.utils.register(window.themeCore.CollectionTemplate,"collection-template")};window.themeCore&&window.themeCore.loaded?a():document.addEventListener("theme:all:loaded",a,{once:!0});
