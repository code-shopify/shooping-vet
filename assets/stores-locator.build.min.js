const i={section:".js-stores-locator",tab:".js-stores-locator-item",tabText:".js-stores-locator-item-text",body:".js-stores-locator-map-wrapper",accordionBody:".js-stores-locator-accordion-body"},g=()=>{const y=window.themeCore.utils.cssClasses,d=window.matchMedia("(max-width: 991.98px)"),o={tabDesktop:"js-stores-locator-item-desktop",tabMobile:"js-stores-locator-item-mobile",...y};let c=!1;function f(t){[...document.querySelectorAll(i.section)].filter(e=>!t||e.closest(`#shopify-section-${t}`)).forEach(e=>{const l=e.querySelector(`${i.tab}.${o.tabDesktop}`).querySelector(i.accordionBody),n=e.querySelector(`${i.tab}.${o.tabMobile}`);l.style.height=l.scrollHeight+"px",n.style.height=n.scrollHeight+"px",e.addEventListener("click",p),d.addEventListener("change",()=>{e.querySelectorAll(i.tab).forEach(b=>{h(b)})})})}function p(t){if(c)return;const s=t.target.closest(i.section),e=t.target.closest(i.tab);if(!s||!e||e.classList.contains(o.active))return;const r=[...s.querySelectorAll(i.tab)],l=[...s.querySelectorAll(i.body)],n=e.dataset.index;l.forEach(a=>{a.classList.toggle(o.hidden,a.dataset.index!==n)}),r.forEach(a=>{(d.matches?a.classList.contains(o.tabMobile):a.classList.contains(o.tabDesktop))&&a.classList.toggle(o.active,a.dataset.index===n),h(a)})}function h(t){if(!t)return;const s=t.querySelector(i.accordionBody),e=500;if(d.matches&&t.classList.contains(o.tabMobile)){const r=t.scrollHeight;t.classList.contains(o.active)?(c=!0,t.style.height=r+"px",t.setAttribute("aria-expanded",!0),setTimeout(()=>{t.removeAttribute("style"),c=!1},e)):(t.style.height=r+"px",t.setAttribute("aria-expanded",!1),requestAnimationFrame(()=>{t.style.height="86px"}))}else if(s){const r=s.scrollHeight;t.classList.contains(o.active)?(c=!0,s.style.height=r+"px",t.setAttribute("aria-expanded",!0),setTimeout(()=>{s.removeAttribute("style"),c=!1},e)):(s.style.height=r+"px",t.setAttribute("aria-expanded",!1),requestAnimationFrame(()=>{s.style.height=0}))}}return Object.freeze({init:f})},u=()=>{window.themeCore.StoresLocator=window.themeCore.StoresLocator||g(),window.themeCore.utils.register(window.themeCore.StoresLocator,"stores-locator")};window.themeCore&&window.themeCore.loaded?u():document.addEventListener("theme:all:loaded",u,{once:!0});
