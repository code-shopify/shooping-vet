const t={cartReminder:"cart-reminder",closeButton:"cart-reminder__close-button",content:"cart-reminder__content",text:"cart-reminder__text",outline:"focus-visible-outline"},y=e=>{const l=window.themeCore.utils.setCookie,n=window.themeCore.utils.getCookie,h=window.themeCore.utils.deleteCookie,u=window.themeCore.utils.on,k=document.querySelector("body");let o=null,i=null,a,c=e.cookieTime*60*1e3;e.displayFrequency==="one_time"?a=24*60*60*1e3:a=c;let d=new Date().setTime(new Date().getTime()+c),C=new Date().setTime(new Date().getTime()+a);const p={CART_TYPE_DRAWER:"drawer"};function T(){D(),$()}function D(){window.themeCore.CartApi.makeRequest(window.themeCore.CartApi.actions.GET_CART,{noOpen:!0})}function v(){n("cart_reminder")?i=+n("cart_reminder")-new Date().getTime():i=null}function $(){window.themeCore.EventBus.listen("cart:updated",r=>{n("cart_reminder_closed")||R(r)}),window.themeCore.EventBus.listen("cart-reminder:added",()=>{if(o=document.querySelector(`.${t.cartReminder}`),!o)return;let r=o.querySelector(`.${t.closeButton}`),B=o.querySelector(`.${t.content}`);u("click",B,()=>{window.themeCore.EventBus.emit("cart:drawer:open"),m(),s()}),u("click",r,()=>{m(),s()})})}function _(){d=new Date().setTime(new Date().getTime()+c),l("cart_reminder",d,{expires:new Date(d)})}function m(){C=new Date().setTime(new Date().getTime()+a),l("cart_reminder_closed","1",{expires:new Date(C)})}function R(r){r.item_count>0?(n("cart_reminder")||_(),v(),i&&setTimeout(()=>{b()},i)):(h("cart_reminder"),s())}function f(){const r=e.cartType===p.CART_TYPE_DRAWER?g():x();return`
			<div
				class="${t.cartReminder}"
				style="
					--cart-reminder-color-text: ${e.colorText};
					--cart-reminder-color-bg: ${e.colorBg};
					--cart-reminder-color-icon: ${e.colorIcon};
					--cart-reminder-color-button-close: ${e.colorButtonClose};
				"
			>
				${r}

				<button
					class="${t.closeButton} ${t.outline}"
					aria-label="${e.closeButtonA11y}"
					type="button"
					data-cart-reminder-close
				>
					<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
						<path d="M18 6L6 18" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
						<path d="M6 6L18 18" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
					</svg>
				</button>
			</div>
		`}function g(){return`
			<button
				type="button"
				class="${t.content} ${t.outline}"
				data-target="CartDrawer"
				data-js-toggle="CartDrawer"
				aria-expanded="false"
				aria-controls="CartDrawer"
				aria-label="${e.cartButtonA11y}"
			>
				<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
					<path d="M14.0003 5C14.0003 4.46957 13.7896 3.96086 13.4145 3.58579C13.0395 3.21071 12.5308 3 12.0003 3C11.4699 3 10.9612 3.21071 10.5861 3.58579C10.211 3.96086 10.0003 4.46957 10.0003 5M19.2603 9.696L20.6453 18.696C20.6891 18.9808 20.6709 19.2718 20.5917 19.5489C20.5126 19.8261 20.3746 20.0828 20.187 20.3016C19.9995 20.5204 19.7668 20.6961 19.505 20.8167C19.2433 20.9372 18.9585 20.9997 18.6703 21H5.33032C5.04195 21 4.75699 20.9377 4.49496 20.8173C4.23294 20.6969 4.00005 20.5212 3.81226 20.3024C3.62448 20.0836 3.48624 19.8267 3.40702 19.5494C3.32781 19.2721 3.30949 18.981 3.35332 18.696L4.73832 9.696C4.81097 9.22359 5.0504 8.79282 5.41324 8.4817C5.77609 8.17059 6.23835 7.9997 6.71632 8H17.2843C17.7621 7.99994 18.2241 8.17094 18.5868 8.48203C18.9494 8.79312 19.1877 9.22376 19.2603 9.696Z" stroke="#FFD875" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
				</svg>

				<span class="${t.text}">
					${e.text}
				</span>
			</button>
		`}function x(){return`
			<a
				href="${e.cartRoute}"
				class="${t.content} ${t.outline}"
				aria-label="${e.cartLinkA11y}"
			>
				<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
					<path d="M14.0003 5C14.0003 4.46957 13.7896 3.96086 13.4145 3.58579C13.0395 3.21071 12.5308 3 12.0003 3C11.4699 3 10.9612 3.21071 10.5861 3.58579C10.211 3.96086 10.0003 4.46957 10.0003 5M19.2603 9.696L20.6453 18.696C20.6891 18.9808 20.6709 19.2718 20.5917 19.5489C20.5126 19.8261 20.3746 20.0828 20.187 20.3016C19.9995 20.5204 19.7668 20.6961 19.505 20.8167C19.2433 20.9372 18.9585 20.9997 18.6703 21H5.33032C5.04195 21 4.75699 20.9377 4.49496 20.8173C4.23294 20.6969 4.00005 20.5212 3.81226 20.3024C3.62448 20.0836 3.48624 19.8267 3.40702 19.5494C3.32781 19.2721 3.30949 18.981 3.35332 18.696L4.73832 9.696C4.81097 9.22359 5.0504 8.79282 5.41324 8.4817C5.77609 8.17059 6.23835 7.9997 6.71632 8H17.2843C17.7621 7.99994 18.2241 8.17094 18.5868 8.48203C18.9494 8.79312 19.1877 9.22376 19.2603 9.696Z" stroke="#FFD875" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
				</svg>

				<span class="${t.text}">
					${e.text}
				</span>
			</a>
		`}function b(){o&&s(),k.insertAdjacentHTML("afterbegin",f()),window.themeCore.EventBus.emit("cart-reminder:added")}function s(){o&&o.remove()}return Object.freeze({init:T})},w=()=>{!window.themeCore||!window.themeCore.CartReminder||window.themeCore.CartReminder.initiated||(y(window.themeCore.CartReminder.config).init(),window.themeCore.CartReminder.initiated=!0)};window.themeCore&&window.themeCore.loaded?w():document.addEventListener("theme:all:loaded",w,{once:!0});
