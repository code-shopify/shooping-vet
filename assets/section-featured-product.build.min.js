import{P as x,a as F}from"./product-carousel-1f3b5d34.js";import"./disableTabulationOnNotActiveSlidesWithModel-5413c83c.js";const N=o=>{const d=window.themeCore.utils.Toggle,h=window.themeCore.utils.isElementInViewport,_=window.themeCore.utils.off,u=window.themeCore.utils.on,w=window.themeCore.utils.cssClasses,c={mediaContainer:".js-product-media-container",thumbnailsStacked:".js-product-media-thumbnails-stacked",thumbnailsSlide:".js-product-media-thumbnails-slide",slide:".js-product-gallery-slide",modelButton:".js-product-media-model-button",modelPoster:".js-product-media-model-poster",modelContent:".js-product-media-model-content"},r=o&&o.dataset.sectionId,A={slider:`.js-product-media-slider-${r}`,sliderNavigationNext:`.js-product-media-slider-next-${r}`,sliderNavigationPrev:`.js-product-media-slider-prev-${r}`,thumbNavigationNext:`.js-product-media-thumb-next-${r}`,thumbNavigationPrev:`.js-product-media-thumb-prev-${r}`,sliderSlideVariantId:`.js-product-gallery-slide-variant-${r}`,sliderThumbnails:`.js-product-media-slider-thumbnails-${r}`,sliderPagination:`.product-media__slider-pagination-${r}`},y={stacked:"product-media--layout-stacked",stacked_2_col:"product-media--layout-stacked_2_col",stacked_2_col_with_big_img:"product-media--layout-stacked_2_col_with_big_image",slider:"product-media--layout-carousel"},m={sizeGuideDrawer:`productSizeGuideDrawer-${r}`,descriptionDrawer:`descriptionDrawer-${r}`,customDrawer1:`productDrawer1-${r}`,customDrawer2:`productDrawer2-${r}`,customDrawer3:`productDrawer3-${r}`,customDrawer4:`productDrawer4-${r}`};let v=null;function P(){v=x({selectors:A,sectionId:r}),q(),z(),H();const e=o.dataset.productHandle;if(!e)return;let t=localStorage.getItem("theme_recently_viewed");if(t)try{t=JSON.parse(t),t=[...new Set([...t,e])],t=t.slice(-11),localStorage.setItem("theme_recently_viewed",JSON.stringify(t))}catch(i){console.log(i)}finally{return}localStorage.setItem("theme_recently_viewed",`["${e}"]`)}function q(){const e=o.querySelector(c.mediaContainer);if(!e)return;const t=e.dataset.mediaLayout;t&&(t==="carousel"&&v.init(),(t==="stacked"||t==="stacked_2_col"||t==="stacked_2_col_with_big_image")&&(k(),u("scroll",document,b),I(),u("resize",k)))}function k(){const e=o.querySelector(c.mediaContainer);if(!e)return;const t=e.dataset.mediaLayout;let i=y.stacked;t==="stacked_2_col"?i=y.stacked_2_col:t==="stacked_2_col_with_big_image"&&(i=y.stacked_2_col_with_big_img),window.innerWidth>1199?(v.destroy(),e.classList.add(i),e.classList.remove(y.slider)):(v.init(),e.classList.add(y.slider),e.classList.remove(i))}function b(){_("scroll",document,b);const e=o.querySelector(c.mediaContainer),t=o.querySelector(c.thumbnailsStacked);if(!e||!t)return;[...e.querySelectorAll(c.slide)].forEach(a=>{setTimeout(()=>{if(h(a,t,200)){const l=[...t.querySelectorAll(c.thumbnailsSlide)];l.forEach(s=>{s.classList.remove(w.active)});const n=l.find(s=>s.dataset.mediaId===a.dataset.mediaId);if(n){n.classList.add(w.active);const s=n.offsetTop,p=t.offsetHeight/2,f=n.offsetHeight/2,S=s-p+f;t.scroll(0,S)}}u("scroll",document,b)},700)})}function I(){const e=o.querySelector(c.thumbnailsStacked);if(!e)return;let t={top:0,left:0,x:0,y:0},i=!1;const a=function(s){e.style.cursor="grabbing",e.style.userSelect="none",e.style.scrollBehavior="auto",t={left:e.scrollLeft,top:e.scrollTop,x:s.clientX,y:s.clientY},u("mousemove",document,l),u("mouseup",document,n)},l=function(s){const p=s.clientX-t.x,f=s.clientY-t.y;i=!!(p+f),e.scrollTop=t.top-f,e.scrollLeft=t.left-p},n=function(){const s=[...e.querySelectorAll("a")];if(s&&i){const p=f=>{f.preventDefault(),s.forEach(S=>{_("click",S,p)}),i=!1};s.forEach(f=>{u("click",f,p)})}document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",n),e.style.cursor="grab",e.style.removeProperty("user-select"),e.style.scrollBehavior="smooth"};u("mousedown",e,a)}function z(){try{g(m.sizeGuideDrawer,{hasFullWidth:!0}),g(m.descriptionDrawer),g(m.customDrawer1),g(m.customDrawer2),g(m.customDrawer3),g(m.customDrawer4)}catch{}}function g(e,t={}){if(!document.querySelector(`[data-js-toggle="${e}"]`))return;const a=d({toggleSelector:e,...t});if(a.init(),e===m.sizeGuideDrawer){let l=document.getElementById(m.sizeGuideDrawer);if(!l)return;u("click",l,function(n){n.target==this&&a.close(l)})}}function H(){[...o.querySelectorAll(c.modelButton)].length&&o.addEventListener("click",t=>{const i=t.target.closest(c.modelButton);if(!i)return;const a=i.parentElement,l=a.querySelector(c.modelPoster),n=a.querySelector(c.modelContent);!l||!n||(l.remove(),i.remove(),n.classList.remove(w.hidden),v.disableSwipe())})}return Object.freeze({init:P})},D={section:'[data-section-type="product"]',productAvailabilityToggleSelector:"[data-js-toggle-selector]",video:".js-video",slide:".js-product-gallery-slide"},C=[];let T,j,$,L;function V(o){$=window.themeCore.utils.Toggle,T=[...document.querySelectorAll(D.section)].filter(d=>!o||d.closest(`#shopify-section-${o}`)),j=F(),T.forEach(G),j.init(),L=window.themeCore.utils.Video,M(),O(),window.themeCore.EventBus.emit("product:loaded")}function G(o){const d=N(o);window.themeCore.EventBus.listen(`pickup-availability-drawer:productAvailability-pickup-availability__${o.dataset.sectionId}:loaded`,()=>{const _=[...document.querySelectorAll(D.productAvailabilityToggleSelector)].find(w=>w.dataset.jsToggle===`productAvailability-pickup-availability__${o.dataset.sectionId}`);$({toggleSelector:_.dataset.target}).init()}),d.init()}function B(){C.length||window.themeCore.EventBus.remove("product-slider:slide-change",B),C.forEach(({player:o})=>{try{o.pauseVideo()}catch{}try{o.pause()}catch{}})}function O(){window.themeCore.EventBus.listen("product-slider:slide-change",B)}async function M(){[...document.querySelectorAll(D.slide)].forEach(d=>{const[h]=L({videoContainer:d,options:{youtube:{controls:1,showinfo:1}}}).init();h&&C.push(h)})}const J=()=>Object.freeze({init:V}),E=()=>{window.themeCore.FeaturedProduct=window.themeCore.FeaturedProduct||J(),window.themeCore.utils.register(window.themeCore.FeaturedProduct,"featured-product")};window.themeCore&&window.themeCore.loaded?E():document.addEventListener("theme:all:loaded",E,{once:!0});
