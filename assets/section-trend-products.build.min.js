const o={section:".js-trend-products-section",hotSpot:".js-trend-products-spot",productPopup:".js-trend-product-popup",slider:".js-trend-products-slider"},P={extraSmall:"(max-width: 991.68px)"},h=window.matchMedia(P.extraSmall),E=()=>{const s=window.themeCore.utils.cssClasses,p=window.themeCore.utils.Swiper;let d=[];function g(t){d=[...document.querySelectorAll(o.section)].filter(e=>!t||e.closest(`#shopify-section-${t}`)),d.forEach(e=>e.addEventListener("click",S)),d.forEach(e=>{let n=e.querySelector(o.slider);n&&v(n)})}function S(t){const e=t.target.closest(o.hotSpot),a=[...t.target.closest(o.section).querySelectorAll(o.hotSpot)].filter(r=>r.classList.contains(s.active));if(e){const r=e.getAttribute("data-target"),u=document.getElementById(r);if(!r||!u)return;a.length&&a.forEach(function(c){if(e===c)return;const i=c.getAttribute("data-target");document.getElementById(i).classList.remove(s.active),c.classList.remove(s.active),c.setAttribute("aria-expanded","false")}),e.classList.toggle(s.active);let l=e.classList.contains(s.active);u.classList.toggle(s.active),l?(e.setAttribute("aria-expanded","true"),document.addEventListener("click",f)):e.setAttribute("aria-expanded","false")}function f(r){if(r.target.closest(o.hotSpot)||r.target.closest(o.productPopup))return;let l=document.querySelectorAll(o.hotSpot),c=document.querySelectorAll(o.productPopup);!l||!c||(l.forEach(function(i){i.classList.remove(s.active),i.setAttribute("aria-expanded","false")}),c.forEach(function(i){i.classList.remove(s.active)}),document.removeEventListener("click",f))}}function v(t){let e,n={slidesPerView:1.1,watchSlidesProgress:!0,spaceBetween:17,pagination:{el:".js-trend-products-slider-pagination",clickable:!0,bulletElement:"button"},breakpoints:{768:{slidesPerView:2}}};h.matches&&(e=new p(t,n)),h.addEventListener("change",m);function m(a){a.matches?e=new p(t,n):(e.destroy(),t.classList.remove("swiper-backface-hidden"))}}return Object.freeze({init:g})},w=()=>{window.themeCore.TrendProducts=window.themeCore.TrendProducts||E(),window.themeCore.utils.register(window.themeCore.TrendProducts,"trends-products")};window.themeCore&&window.themeCore.loaded?w():document.addEventListener("theme:all:loaded",w,{once:!0});
