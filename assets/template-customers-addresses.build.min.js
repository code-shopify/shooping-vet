const r={addressContainer:".js-addresses-container",newAddressForm:".js-addresses-new-form",addressCountryOptions:".js-address-country-option",addressDelete:".js-address-delete",addressesNewToggle:".js-address-new-toggle",editAddressForm:"#EditAddress_",addressesEditToggle:".js-address-edit-toggle",addressesCard:".js-addresses-card",newMainButton:"[data-new-main-btn]"};let n;const f=()=>{function c(){n=window.themeCore.utils.cssClasses;const e=document.querySelector(r.addressContainer);u(),m(e),w(e),g(e)}function u(){window.Shopify&&new window.Shopify.CountryProvinceSelector("AddressCountryNew","AddressProvinceNew",{hideElement:"AddressProvinceContainerNew"}),[...document.querySelectorAll(r.addressCountryOptions)].forEach(s=>{let d=s.dataset.formId,t="AddressCountry_"+d,o="AddressProvince_"+d,i="AddressProvinceContainer_"+d;new window.Shopify.CountryProvinceSelector(t,o,{hideElement:i})})}function m(e){e.addEventListener("click",s=>{if(!s.target.closest(r.addressesNewToggle))return;let t=e.querySelector(r.newAddressForm);if(!t)return;t.classList.toggle(n.hidden);const o=e.querySelector(r.newMainButton);if(!o)return null;o.classList.toggle(n.hidden)})}function w(e){e.addEventListener("click",s=>{if(!s.target.closest(r.addressesEditToggle))return;let t=r.editAddressForm+s.target.dataset.formId;if(!t)return;e.querySelector(t).classList.toggle(n.hidden),e.querySelectorAll(r.addressesCard).forEach(a=>{a.dataset.cardId===s.target.dataset.formId&&a.classList.toggle(n.hidden)})})}function g(e){e.addEventListener("click",s=>{const d=s.target.closest(r.addressDelete);if(!d)return;const t=d.dataset.formId,o=d.dataset.confirmMessage;confirm(o||"Are you sure you wish to delete this address?")&&window.Shopify.postLink("/account/addresses/"+t,{parameters:{_method:"delete"}})})}return Object.freeze({init:c})},l=()=>{window.themeCore.CustomersAddressesTemplate=window.themeCore.CustomersAddressesTemplate||f(),window.themeCore.utils.register(window.themeCore.CustomersAddressesTemplate,"addresses-template")};window.themeCore&&window.themeCore.loaded?l():document.addEventListener("theme:all:loaded",l,{once:!0});
