const l={xrButton:"[data-shopify-xr]"},c={hidden:"data-shopify-xr-hidden"},a=()=>{let n=[];async function i(e){!window.Shopify||!e||(n=e,await window.Shopify.loadFeatures([{name:"shopify-xr",version:"1.0",onLoad:t}]),await window.Shopify.loadFeatures([{name:"model-viewer-ui",version:"1.0",onLoad:o}]))}function t(){window.ShopifyXR?window.themeCore.shopifyXREnabled&&(window.ShopifyXR.addModels(n),window.ShopifyXR.setupXRElements(),document.querySelectorAll(l.xrButton).forEach(d=>d.removeAttribute(c.hidden))):document.addEventListener("shopify_xr_initialized",e=>{window.themeCore.shopifyXREnabled=e.detail.shopifyXREnabled,e.detail.shopifyXREnabled&&t()})}function o(){[...document.querySelectorAll("model-viewer")].forEach(d=>new window.Shopify.ModelViewerUI(d))}return Object.freeze({init:i})},s={modelsJSON:"#ProductModelsJSON",section:'[data-section-type="product"]'},r=()=>{[...document.querySelectorAll(s.section)].forEach(i);function i(t){const o=t.querySelector(s.modelsJSON),e=a();o&&(e.init(JSON.parse(o.textContent)),o.remove())}};window.themeCore&&window.themeCore.loaded?r():document.addEventListener("theme:all:loaded",r,{once:!0});
