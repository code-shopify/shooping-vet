import{P as R,a as Y}from"./product-carousel-1f3b5d34.js";import{d as A}from"./disableTabulationOnNotActiveSlidesWithModel-5413c83c.js";const M={container:"[data-zoom-container]",media:"[data-zoom-media]",modal:"[data-zoom-modal]",toggle:"[data-zoom-modal-toggle]",content:"[data-zoom-content]",slider:"[data-zoom-slider]",slide:"[data-zoom-slide]",prevSlide:".swiper-button-prev",nextSlide:".swiper-button-next",button:"[data-js-zoom-button]",productSlider:"[data-js-product-media-slider]",productSliderWrapper:".swiper-wrapper",notInitedIframe:".js-video.js-video-youtube, .js-video:empty"},J={afterMedium:1200},W=(t=document)=>{const k=window.themeCore.utils.Swiper,p=window.themeCore.utils.off,w=window.themeCore.utils.on,c=window.themeCore.utils.Toggle,P=window.themeCore.utils.VIDEO_TYPES,C=window.themeCore.utils.Video;let d=null,h=!1;async function f(){let r=t.querySelector(M.slider);if(!r)return;let s=r.querySelectorAll(".js-video"),e=s&&s.length>0;d=_(),d.forEach(n=>{if(!n.media.length)return;n.modal.init(),e&&q(n),n.slider=u(n);const o=new MutationObserver(()=>{n.el.querySelector(M.notInitedIframe)||(A(n.slider),o.disconnect())}),i={attributes:!0,childList:!0,subtree:!0};o.observe(n.el,i),a(n)}),g()}function a(r){let s={top:0,left:0,x:0,y:0};const e=function(i){window.innerWidth<J.afterMedium||(s={x:i.clientX,y:i.clientY},w("mousemove",document,n),w("mouseup",document,o))},n=function(i){const m=i.clientX-s.x,y=i.clientY-s.y;h=!!(m+y)},o=function(){p("mousemove",document,n),p("mouseup",document,o)};w("mousedown",r.el,e)}function g(){d.forEach(r=>{w("click",r.el,s=>T(s,r)),w("click",r.el,s=>E(s,r)),w("click",r.el,s=>b(s,r)),window.themeCore.EventBus.listen(`Toggle:${r.modalEl.id}:close`,s=>I(s,r))})}function _(){return[...t.querySelectorAll(M.container)].map(r=>{const s=[...r.querySelectorAll(M.media)],e=[...r.querySelectorAll(M.slide)],n=r.querySelector(M.content),o=r.querySelector(M.modal),i=r.querySelector(M.slider),m=r.querySelector(M.button),y=c({toggleSelector:o.id});return{el:r,sliderEl:i,slides:e,modalEl:o,modal:y,media:s,content:n,button:m}})}function q({slides:r}){r.forEach(s=>{const[e]=C({videoContainer:s,options:{youtube:{controls:1,showinfo:1}}}).init();e&&(s.video=e)})}function u({sliderEl:r,slides:s}){return new k(r,{slidesPerView:1,allowTouchMove:!1,zoom:{maxRatio:3,minRatio:1},navigation:{prevEl:M.prevSlide,nextEl:M.nextSlide},on:{beforeSlideChangeStart:function(e){e&&e.zoom&&typeof e.zoom.out=="function"&&e.zoom.out()},slideChange:function(e){S(s),A(e)}}})}function S(r){const s=r.filter(e=>e.video);s.length&&s.forEach(({video:e})=>{P.youtube===e.type?e.player.pauseVideo():e.player.pause()})}function T(r,s){const e=r.target.closest(M.media);if(!e||!s.media.length)return;const n=e.dataset.zoomMedia,o=s.slides.findIndex(i=>i.dataset.zoomSlide===n);s.slider.slideTo(o,0),document.querySelector(":root").style.setProperty("--page-height",` ${window.innerHeight}px`),s.modal.open(s.modalEl),A(s.slider)}function E(r,s){if(!r.target.closest(M.slide)||h){h=!1;return}s.slider.zoom.toggle()}function b(r,s){if(!r.target.closest(M.button))return;const n=s.el.dataset.mediaLayout,o=s.el.querySelector(M.productSlider);if(!o)return;let i=null;switch(n){case"carousel":i=o.querySelector(".swiper-slide-active");break;case"stacked":i=[...o.querySelectorAll(".swiper-slide")][0];break;case"stacked_2_col":i=[...o.querySelectorAll(".swiper-slide")][0];break;default:i=[...o.querySelectorAll(".swiper-slide")][0];return}if(!i||!s.media.length)return;const m=i.dataset.zoomMedia||i.dataset.zoomMediaHtmlVideo,y=s.slides.findIndex(l=>l.dataset.zoomSlide===m);s.slider.slideTo(y,0),document.querySelector(":root").style.setProperty("--page-height",` ${window.innerHeight}px`),s.modal.open(s.modalEl),A(s.slider)}function I(r,s){r&&(s.slider.zoom.out(),S(s.slides))}return Object.freeze({init:f})},G=t=>{const k=window.themeCore.utils.on,p=1,w=100,c={stickyContainer:".js-product-sticky-container",headerContentWrapper:"[data-header-container]",headerSticky:"[data-header-sticky]"},P={afterMedium:1200},C=[...t.querySelectorAll(c.stickyContainer)],d=document.querySelector(c.headerContentWrapper),h=d.closest(c.headerSticky)?d.offsetHeight:p;let f=window.innerHeight,a=window.scrollY;function g(){if(C){const u=C.reduce((S,T)=>T.offsetHeight>(S&&S.offsetHeight)?S:T);_(u)}}function _(u){!u||!t||!d||(u.style.top=h+"px",k("scroll",()=>{q(u)}))}function q(u){if(window.innerWidth<P.afterMedium)return;let S=u.getBoundingClientRect().height||0,T=f-S+h;setTimeout(()=>{let E=window.scrollY;if(f=window.innerHeight,S=u.getBoundingClientRect().height||0,T<h&&(a>T?t.style.top=`${f-S}px`:t.style.top=`${a}px`),E>a){let b=parseInt(u.style.top.replace("px",""));if(!b)return;b>f-S-Math.ceil(u.clientHeight/w)&&(u.style.top=`${b-Math.ceil(u.clientHeight/w)}px`)}else if(E<a){let b=parseInt(u.style.top.replace("px",""));if(!b)return;b<h&&(u.style.top=`${b+Math.ceil(u.clientHeight/w)}px`)}a=window.scrollY},0)}return Object.freeze({init:g})},X=t=>{const k=t&&t.dataset.sectionId,p={notifyMeButtonContainer:".js-notify-me-button-container",notifyMeButton:".js-notify-me-button",notifyMePopup:".js-notify-me-popup",notifyMeForm:".js-notify-me-form",notifyMeFormStatus:".js-notify-me-form-status",notifyMeFormInputMessage:"[name='contact[message]']",notifyMeFormInputProductURL:"[name='contact[ProductURL]']"},w={productTitle:"{{ product_title }}"},c={active:"is-active",hidden:"is-hidden",isPosted:"is-posted",isNotifyMeActive:"is-notify-me-popup-active"},P={contactPosted:"contact_posted",contactProductUrl:"contact[ProductURL]",contactMessage:"contact[message]",formType:"form_type"},C=window.themeCore.utils.Toggle,d=window.themeCore.utils.on;let h=null,f=null,a=null,g=null,_=null,q=null,u=null,S=null,T=null,E=!1;function b(){if(!t||!k||(h=t.querySelector(p.notifyMeButtonContainer),f=t.querySelector(p.notifyMeButton),a=t.querySelector(p.notifyMePopup),g=t.querySelector(p.notifyMeForm),!f||!a||!g))return!1;T=g.id,_=g.querySelector(p.notifyMeFormInputMessage),q=g.querySelector(p.notifyMeFormInputProductURL),S=g.querySelector(p.notifyMeFormStatus),!(!_||!q||!S)&&(I(),r(),o())}function I(){u=C({toggleSelector:a.id}),u.init(),d("click",a,function(l){l.target==this&&u.close(a)}),window.themeCore.EventBus.listen(`Toggle:${a.id}:close`,e),window.themeCore.EventBus.listen(`Toggle:${a.id}:open`,n)}function r(){s()&&(g.classList.add(c.isPosted),u.open(a))}function s(){return window.location.hash.includes(`#${T}`)&&S.dataset.formStatus==="posted"}function e(){if(s()){setTimeout(()=>{g.classList.remove(c.isPosted),t.classList.remove(c.isNotifyMeActive)},400);let l=new URL(window.location.href);l.hash="",l.searchParams.delete(P.contactPosted),l.searchParams.delete(P.contactProductUrl),l.searchParams.delete(P.contactMessage),l.searchParams.delete(P.formType),window.history.replaceState({},null,l.toString())}}function n(){t.classList.add(c.isNotifyMeActive)}function o(){if(window.themeCore.EventBus.listen(`pdp:section-${k}:change-variant`,i),!E){const l=t.querySelector("[data-js-product-json]");let v;try{v=JSON.parse(l.innerText)}catch{v=null}if(!v)return;v.has_only_default_variant&&(m(v.variants[0],v),y(v.variants[0]))}}function i({variant:l,product:v}){if(E=!0,!l||!v)return!1;y(l),m(l,v)}function m(l,v){const L=l.available,j=l.id,F=v.url,D=v.title;if(L||!j||!F||!D)return _.value="",q.value="",!1;const V=`${window.location.origin}${F}?variant=${j}`,O=_.dataset.notifyMeMessage;_.value=O.replace(w.productTitle,D),q.value=V}function y(l){l.available?(h.classList.add(c.hidden),f.classList.remove(c.active)):(f.classList.add(c.active),h.classList.remove(c.hidden))}return Object.freeze({init:b})},Z=t=>{const k=t&&t.dataset.sectionId,p={askQuestionButton:".js-ask-question-button",askQuestionPopup:".js-ask-question-popup",askQuestionForm:".js-ask-question-form",askQuestionFormStatus:".js-ask-question-form-status",askQuestionFormInputProductURL:"[name='contact[product_url]']"},w={active:"is-active",isPosted:"is-posted",isNotifyMeActive:"is-ask-question-popup-active"},c={contactPosted:"contact_posted",contactProductUrl:"contact[product_url]",contactMessage:"contact[body]",formType:"form_type"},P=window.themeCore.utils.Toggle,C=window.themeCore.utils.on;let d=null,h=null,f=null,a=null,g=null,_=null,q=null,u=!1;function S(){if(!t||!k||(d=t.querySelector(p.askQuestionButton),h=t.querySelector(p.askQuestionPopup),f=t.querySelector(p.askQuestionForm),!d||!h||!f))return!1;q=f.id,a=f.querySelector(p.askQuestionFormInputProductURL),_=f.querySelector(p.askQuestionFormStatus),!(!a||!_)&&(T(),E(),s())}function T(){g=P({toggleSelector:h.id}),g.init(),C("click",h,function(o){o.target==this&&g.close(h)}),window.themeCore.EventBus.listen(`Toggle:${h.id}:close`,I),window.themeCore.EventBus.listen(`Toggle:${h.id}:open`,r)}function E(){b()&&(f.classList.add(w.isPosted),g.open(h))}function b(){return window.location.hash.includes(`#${q}`)&&_.dataset.formStatus==="posted"}function I(){if(b()){setTimeout(()=>{f.classList.remove(w.isPosted),t.classList.remove(w.isNotifyMeActive)},400);let o=new URL(window.location.href);o.hash="",o.searchParams.delete(c.contactPosted),o.searchParams.delete(c.contactProductUrl),o.searchParams.delete(c.contactMessage),o.searchParams.delete(c.formType),window.history.replaceState({},null,o.toString())}}function r(){t.classList.add(w.isNotifyMeActive)}function s(){if(window.themeCore.EventBus.listen(`pdp:section-${k}:change-variant`,e),!u){const o=t.querySelector("[data-js-product-json]");let i;try{i=JSON.parse(o.innerText)}catch{i=null}if(!i)return;i.has_only_default_variant&&n(i.variants[0],i)}}function e({variant:o,product:i}){if(u=!0,!o||!i)return!1;n(o,i)}function n(o,i){const m=o.id,y=i.url;if(!m||!y)return a.value="",!1;const l=`${window.location.origin}${y}?variant=${m}`;a.value=l}return Object.freeze({init:S})},K=t=>{const k=window.themeCore.utils.Toggle,p=window.themeCore.utils.isElementInViewport,w=window.themeCore.utils.off,c=window.themeCore.utils.on,P=window.themeCore.utils.cssClasses,C={mediaContainer:".js-product-media-container",thumbnailsStacked:".js-product-media-thumbnails-stacked",thumbnailsSlide:".js-product-media-thumbnails-slide",slide:".js-product-gallery-slide",modelButton:".js-product-media-model-button",modelPoster:".js-product-media-model-poster",modelContent:".js-product-media-model-content"},d=t&&t.dataset.sectionId,h={slider:`.js-product-media-slider-${d}`,sliderNavigationNext:`.js-product-media-slider-next-${d}`,sliderNavigationPrev:`.js-product-media-slider-prev-${d}`,thumbNavigationNext:`.js-product-media-thumb-next-${d}`,thumbNavigationPrev:`.js-product-media-thumb-prev-${d}`,sliderSlideVariantId:`.js-product-gallery-slide-variant-${d}`,sliderThumbnails:`.js-product-media-slider-thumbnails-${d}`,sliderPagination:`.product-media__slider-pagination-${d}`},f={stacked:"product-media--layout-stacked",stacked_2_col:"product-media--layout-stacked_2_col",stacked_2_col_with_big_img:"product-media--layout-stacked_2_col_with_big_image",slider:"product-media--layout-carousel"},a={sizeGuideDrawer:`productSizeGuideDrawer-${d}`,descriptionDrawer:`descriptionDrawer-${d}`,customDrawer1:`productDrawer1-${d}`,customDrawer2:`productDrawer2-${d}`,customDrawer3:`productDrawer3-${d}`,customDrawer4:`productDrawer4-${d}`};let g=null;function _(){const e=W(t);g=R({selectors:h,sectionId:d});const n=G(t);e.init(),n.init(),q(),E(),I(),r(),s();const o=t.dataset.productHandle;if(!o)return;let i=localStorage.getItem("theme_recently_viewed");if(i)try{i=JSON.parse(i),i=[...new Set([...i,o])],i=i.slice(-11),localStorage.setItem("theme_recently_viewed",JSON.stringify(i))}catch(m){console.log(m)}finally{return}localStorage.setItem("theme_recently_viewed",`["${o}"]`)}function q(){const e=t.querySelector(C.mediaContainer);if(!e)return;const n=e.dataset.mediaLayout;n&&(n==="carousel"&&g.init(),(n==="stacked"||n==="stacked_2_col"||n==="stacked_2_col_with_big_image")&&(u(),c("scroll",document,S),T(),c("resize",u)))}function u(){const e=t.querySelector(C.mediaContainer);if(!e)return;const n=e.dataset.mediaLayout;let o=f.stacked;n==="stacked_2_col"?o=f.stacked_2_col:n==="stacked_2_col_with_big_image"&&(o=f.stacked_2_col_with_big_img),window.innerWidth>1199?(g.destroy(),e.classList.add(o),e.classList.remove(f.slider)):(g.init(),e.classList.add(f.slider),e.classList.remove(o))}function S(){w("scroll",document,S);const e=t.querySelector(C.mediaContainer),n=t.querySelector(C.thumbnailsStacked);if(!e||!n)return;[...e.querySelectorAll(C.slide)].forEach(i=>{setTimeout(()=>{if(p(i,n,200)){const m=[...n.querySelectorAll(C.thumbnailsSlide)];m.forEach(l=>{l.classList.remove(P.active)});const y=m.find(l=>l.dataset.mediaId===i.dataset.mediaId);if(y){y.classList.add(P.active);const l=y.offsetTop,v=n.offsetHeight/2,L=y.offsetHeight/2,j=l-v+L;n.scroll(0,j)}}c("scroll",document,S)},700)})}function T(){const e=t.querySelector(C.thumbnailsStacked);if(!e)return;let n={top:0,left:0,x:0,y:0},o=!1;const i=function(l){e.style.cursor="grabbing",e.style.userSelect="none",e.style.scrollBehavior="auto",n={left:e.scrollLeft,top:e.scrollTop,x:l.clientX,y:l.clientY},c("mousemove",document,m),c("mouseup",document,y)},m=function(l){const v=l.clientX-n.x,L=l.clientY-n.y;o=!!(v+L),e.scrollTop=n.top-L,e.scrollLeft=n.left-v},y=function(){const l=[...e.querySelectorAll("a")];if(l&&o){const v=L=>{L.preventDefault(),l.forEach(j=>{w("click",j,v)}),o=!1};l.forEach(L=>{c("click",L,v)})}document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",y),e.style.cursor="grab",e.style.removeProperty("user-select"),e.style.scrollBehavior="smooth"};c("mousedown",e,i)}function E(){try{b(a.sizeGuideDrawer,{hasFullWidth:!0}),b(a.descriptionDrawer),b(a.customDrawer1),b(a.customDrawer2),b(a.customDrawer3),b(a.customDrawer4)}catch{}}function b(e,n={}){if(!document.querySelector(`[data-js-toggle="${e}"]`))return;const i=k({toggleSelector:e,...n});if(i.init(),e===a.sizeGuideDrawer){let m=document.getElementById(a.sizeGuideDrawer);if(!m)return;c("click",m,function(y){y.target==this&&i.close(m)})}}function I(){[...t.querySelectorAll(C.modelButton)].length&&t.addEventListener("click",n=>{const o=n.target.closest(C.modelButton);if(!o)return;const i=o.parentElement,m=i.querySelector(C.modelPoster),y=i.querySelector(C.modelContent);!m||!y||(m.remove(),o.remove(),y.classList.remove(P.hidden),g.disableSwipe())})}function r(){X(t).init()}function s(){Z(t).init()}return Object.freeze({init:_})},B={section:'[data-section-type="product"]',productAvailabilityToggleSelector:"[data-js-toggle-selector]",video:".js-video",slide:".js-product-gallery-slide"},$=[];let z,x,N,Q;function ee(t){N=window.themeCore.utils.Toggle,Q=window.themeCore.utils.Video,z=[...document.querySelectorAll(B.section)].filter(k=>!t||k.closest(`#shopify-section-${t}`)),x=Y(),z.forEach(te),x.init(),ie(),oe(),window.themeCore.EventBus.emit("product:loaded")}function te(t){const k=K(t);window.themeCore.EventBus.listen(`pickup-availability-drawer:productAvailability-pickup-availability__${t.dataset.sectionId}:loaded`,()=>{const w=[...document.querySelectorAll(B.productAvailabilityToggleSelector)].find(P=>P.dataset.jsToggle===`productAvailability-pickup-availability__${t.dataset.sectionId}`);N({toggleSelector:w.dataset.target}).init()}),k.init()}function U(){$.length||window.themeCore.EventBus.remove("product-slider:slide-change",U),$.forEach(({player:t})=>{try{t.pauseVideo()}catch{}try{t.pause()}catch{}})}function oe(){window.themeCore.EventBus.listen("product-slider:slide-change",U)}async function ie(){[...document.querySelectorAll(B.slide)].forEach(k=>{const[p]=Q({videoContainer:k,options:{youtube:{controls:1,showinfo:1}}}).init();p&&$.push(p)})}const se=()=>Object.freeze({init:ee}),H=()=>{window.themeCore.Product=window.themeCore.Product||se(),window.themeCore.utils.register(window.themeCore.Product,"product-template")};window.themeCore&&window.themeCore.loaded?H():document.addEventListener("theme:all:loaded",H,{once:!0});
