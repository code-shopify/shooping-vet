const v=()=>{let u,r,d,c;const o={component:".js-cart-notification-error",content:".js-cart-notification-content",heading:".js-notification-error-heading",close:"[data-notification-close]",modal:".js-cart-notification-modal"};let t=null,s=null,f=null,n=null,a=!1;function w(){u=window.themeCore.utils.cssClasses,r=window.themeCore.utils.on,d=window.themeCore.utils.trapFocus,c={...u},t=document.querySelector(o.component),t&&(s=t.querySelector(o.content),f=t.querySelector(o.heading),n=t.querySelector(o.modal),g())}function C(){t&&(n.focus(),d(n),t.classList.add(c.active),a=!0,window.themeCore.EventBus.emit("cart-notification:open",{modal:n}))}function l(){t&&(t.classList.remove(c.active),a=!1)}function h(e,i=window.themeCore.translations.get("cart.notifications.error")){return!s||!e?!1:(s.innerHTML=e,f.innerHTML=i,!0)}function p(){return a}function g(){r("click",t,N),r("click",E)}function N(e){e.target.closest(o.close)&&(e.preventDefault(),l())}function E(e){const i=e.target;i!==n&&!i.closest(o.modal)&&l()}return Object.freeze({init:w,open:C,close:l,addNotification:h,isOpen:p})},m=()=>{window.themeCore.CartNotificationError=window.themeCore.CartNotificationError||v(),window.themeCore.utils.register(window.themeCore.CartNotificationError,"cart-notification-error")};window.themeCore&&window.themeCore.loaded?m():document.addEventListener("theme:all:loaded",m,{once:!0});
